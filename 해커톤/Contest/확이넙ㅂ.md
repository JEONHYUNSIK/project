# Contest Service API í…ŒìŠ¤íŠ¸ ê°€ì´ë“œ

## ğŸŒ **ì ‘ê·¼ ì •ë³´**
- **API Gateway**: `http://localhost:8080/api/contests`

---

## ğŸ”§ **í˜„ì¬ êµ¬í˜„ëœ API**

### 1. ì„œë¹„ìŠ¤ ìƒíƒœ í™•ì¸
```powershell
curl -X GET http://localhost:8080/api/contests/test
```

### 2. ëŒ€íšŒ ëª©ë¡ ì¡°íšŒ (ì¸ì¦ í•„ìš”)
```powershell
# ê¸°ë³¸ ì¡°íšŒ
curl -X GET http://localhost:8080/api/contests -b cookies.txt

# í˜ì´ì§•
curl -X GET "http://localhost:8080/api/contests?page=0&size=10" -b cookies.txt

# ì¹´í…Œê³ ë¦¬ í•„í„°ë§
curl -X GET "http://localhost:8080/api/contests?category=1" -b cookies.txt

# í‚¤ì›Œë“œ ê²€ìƒ‰
curl -X GET "http://localhost:8080/api/contests?keyword=í”„ë¡œê·¸ë˜ë°" -b cookies.txt
```

### 3. ëŒ€íšŒ ìƒì„¸ ì¡°íšŒ (ì¸ì¦ í•„ìš”)
```powershell
curl -X GET http://localhost:8080/api/contests/{ëŒ€íšŒ-UUID} -b cookies.txt
```

---

## ğŸ” **JWT í† í° ì¸ì¦**

### JWT í† í° ì‚¬ìš©ë²• (ì¿ í‚¤ ë°©ì‹)
```powershell
# ì¸ì¦ì´ í•„ìš”í•œ API í˜¸ì¶œì‹œ ì¿ í‚¤ í¬í•¨
curl -X GET http://localhost:8080/api/contests -b cookies.txt

# ë˜ëŠ” ì¿ í‚¤ íŒŒì¼ ì—†ì´ ì§ì ‘ ì‚¬ìš©
curl -X GET http://localhost:8080/api/contests -H "Cookie: auth_token=YOUR_JWT_TOKEN"
```

### íšŒì›ê°€ì… ë° ë¡œê·¸ì¸ìœ¼ë¡œ JWT í† í° ë°›ê¸°
```powershell
# 1. íšŒì›ê°€ì… (ë¨¼ì € ê³„ì • ìƒì„±)
curl -X POST http://localhost:60000/auth/register -H "Content-Type: application/json" -d '{"username": "asdf", "password": "asdfasdf", "email": "asdf@example.com"}'

# 2. ë¡œê·¸ì¸ API - Auth Server ì§ì ‘ í˜¸ì¶œ (ì¿ í‚¤ë¡œ í† í° ë°›ìŒ)
curl -X POST http://localhost:60000/auth/login -H "Content-Type: application/json" -d '{"username": "asdf", "password": "asdfasdf"}' -c cookies.txt

# ì‘ë‹µ ì˜ˆì‹œ:
# {
#   "message": "Login successful",
#   "user": {
#     "id": 1,
#     "username": "asdf",
#     "email": "asdf@example.com"
#   }
# }
# JWT í† í°ì€ ì¿ í‚¤ì— ì €ì¥ë¨
```

---

## ğŸ§ª **í…ŒìŠ¤íŠ¸ ë°©ë²•**

```powershell
# 1. ì„œë¹„ìŠ¤ í™•ì¸
curl -X GET http://localhost:8080/api/contests/test

# 2. íšŒì›ê°€ì… (ìµœì´ˆ 1íšŒë§Œ)
curl -X POST http://localhost:60000/auth/register -H "Content-Type: application/json" -d '{"username": "asdf", "password": "asdfasdf", "email": "asdf@example.com", "phone_number": "01000000000"}'

# 3. ë¡œê·¸ì¸í•´ì„œ JWT í† í° ë°›ê¸° (ì¿ í‚¤ ì €ì¥)
curl -X POST http://localhost:60000/auth/login -H "Content-Type: application/json" -d '{"username": "asdf1234", "password": "asdf1234"}' -c cookies.txt

# 4. ëŒ€íšŒ ëª©ë¡ í™•ì¸ (ì¿ í‚¤ ì‚¬ìš©)
curl -X GET http://localhost:8080/api/contests -b cookies.txt

# 5. ëŒ€íšŒ ìƒì„¸ í™•ì¸ (ìœ„ì—ì„œ ë°›ì€ UUID ì‚¬ìš©)
curl -X POST http://localhost:8080/api/contests/favorite/10000000-0000-0000-0000-000000000002/favoritesAdd -b cookies.txt

# 6. ì‚¬ìš©ìë³„ ì¦ê²¨ì°¾ê¸° ëª©ë¡ ì¡°íšŒ
curl -X GET http://localhost:8080/api/contests/favorite/favoritesList -b cookies.txt

# 7. ì¦ê²¨ì°¾ê¸° ì—¬ë¶€
curl -X GET http://localhost:8080/api/contests/favorite/00000000-0000-0000-0000-000000000001/isfavorites -b cookies.txt

# 8. ë§ˆì´í˜ì´ì§€ ì“¸ ì‚¬ìš©ìê°€ ëˆ„ë¥¸ ê³µëª¨ì „ ëŒ€íšŒ ì •ë³´
curl -X GET http://localhost:8080/api/mypage/favorites -b cookies.txt


# ì„ì˜ ê³µëª¨ì „ ì¶”ê°€
curl -X POST http://localhost:8080/api/contests -H "Content-Type: application/json" -d '{"title": "3ë²ˆì—ì„œ 1ë²ˆìœ¼ë¡œ ì¹´í…Œê³ ë¦¬ ìˆ˜ì • ì „", "description": "ìƒˆë¡œìš´ ëŒ€íšŒì˜ ì„¤ëª…ì…ë‹ˆë‹¤", "organizer": "í…ŒìŠ¤íŠ¸ ì£¼ìµœì", "startDate": "2025-08-01T09:00:00", "endDate": "2025-08-31T18:00:00", "registrationDeadline": "2025-07-30T23:59:59", "prizeDescription": "ìƒê¸ˆ 500ë§Œì›", "requirements": "ìš”êµ¬ì‚¬í•­ABC", "websiteUrl": "http://example.com/new-contest", "imageUrl": "http://example.com/image.jpg", "isActive": "true", "organizerEmail": "organizer@example.com", "organizerPhone": "010-1234-5678", "submissionFormat": "PDF", "maxParticipants": 100, "eligibility": ["í•™ìƒ", "ì¼ë°˜ì¸"], "tags": ["ì½”ë”©", "AI"], "categoryIds": [{"id": 3}]}' -b cookies.txt

# ê³µëª¨ì „ ì¹´í…Œê³ ë¦¬ ìˆ˜ì •
curl -X PUT http://localhost:8080/api/contests/{ê³µëª¨ì „UUID} -H "Content-Type: application/json" -d '{"title": "ì¹´í…Œê³ ë¦¬1ì—ì„œ 8ë²ˆìœ¼ë¡œ ìˆ˜ì •", "description": "ì¹´í…Œê³ ë¦¬ê°€ ì˜ ìˆ˜ì •ë˜ëŠ”ì§€ í™•ì¸í•©ë‹ˆë‹¤.", "categoryIds": [{"id": 5}]}' -b cookies.txt

# /api/contests/status?status=CLOSING_SOON	ì „ì²´ ê³µëª¨ì „ ì¤‘ ë§ˆê°ì„ë°•ì¸ ê²ƒ
# /api/categories/1/contests?status=CLOSING_SOON	ì¹´í…Œê³ ë¦¬ 1ì— ì†í•œ ê³µëª¨ì „ ì¤‘ ë§ˆê°ì„ë°•ì¸ ê²ƒ
  curl -X GET "http://localhost:8080/api/categories/1/contests?status=CLOSING_SOON&page=0&size=10&sortBy=title&sortDir=asc" -b cookies.txt
  curl -X GET http://localhost:8080/api/categories/1/contests?status=CLOSING_SOON -b cookies.txt

  curl -X GET "http://localhost:8080/api/categories/1/contests?status=CLOSED&page=0&size=10&sortBy=title&sortDir=asc" -b cookies.txt
  curl -X GET http://localhost:8080/api/categories/1/contests?status=CLOSED -b cookies.txt      
  
  curl -X GET "http://localhost:8080/api/categories/1/contests?status=OPEN&page=0&size=10&sortBy=title&sortDir=asc" -b cookies.txt

# /api/categories/1/contests	ì¹´í…Œê³ ë¦¬ 1ì— ì†í•œ ëª¨ë“  ê³µëª¨ì „
 curl -X GET "http://localhost:8080/api/categories/1/contests?page=0&size=10&sortBy=title&sortDir=asc" -b cookies.txt




    //curl -X GET "http://localhost:8080/fortest"

    //curl -X GET "http://localhost:8080/api/contests?fortest?regionSi=ì„œìš¸"



    //curl -X GET "http://localhost:8080/fortest?regionSi=ì„œìš¸íŠ¹ë³„ì‹œ&regionGu=ê°•ë‚¨êµ¬"
    //curl -X GET "http://localhost:8080/fortest?regionSi=ì„œìš¸íŠ¹ë³„ì‹œ&regionGu=ê°•ë‚¨êµ¬&page=1&size=5"

    INSERT INTO contest_service.contest_regions(contest_id, region_id) VALUES 
  ('10000000-0000-0000-0000-000000000003',270),   
  ('10000000-0000-0000-0000-000000000006',449);

    ê¸ˆì²œêµ¬", ì„œìš¸ //  í•´ë‚¨êµ°, ì „ë‚¨


    curl -X GET "http://localhost:8080/api/contests/test2?regionSi=%EC%84%9C%EC%9A%B8" -b cookies.txt

    //ì„œìš¸íŠ¹ë³„ì‹œ
    curl -X GET "http://localhost:8080/api/contests/region?regionSi=%EC%84%9C%EC%9A%B8%ED%8A%B9%EB%B3%84%EC%8B%9C" -b cookies.txt
    //ëŒ€êµ¬ê´‘ì—­ì‹œ
    curl -X GET "http://localhost:8080/api/contests/region?regionSi=%EB%8C%80%EA%B5%AC%EA%B4%91%EC%97%AD%EC%8B%9C" -b cookies.txt
  


    #ì¹´í…Œê³ ë¦¬ ID 1ë²ˆ (IT)ì— ì†í•˜ë©´ì„œ, ì§€ì—­ì´ ì„œìš¸ì´ê³ , ë§ˆê°ì´ ì„ë°•í•œ ìƒíƒœì˜ ê³µëª¨ì „ë“¤ì„ ë³´ê³  ì‹¶ë‹¤"
    curl -X GET "http://localhost:8080/api/categories/1/contests?status=CLOSING_SOON&regionSi=%EC%84%9C%EC%9A%B8%ED%8A%B9%EB%B3%84%EC%8B%9C" -b cookies.txt

    curl -X GET "http://localhost:8080/api/categories/1/contests?status=CLOSED&regionSi=%EC%84%9C%EC%9A%B8%ED%8A%B9%EB%B3%84%EC%8B%9C" -b cookies.txt
    
    curl -X GET "http://localhost:8080/api/categories/1/contests?status=OPEN&regionSi=%EC%84%9C%EC%9A%B8%ED%8A%B9%EB%B3%84%EC%8B%9C" -b cookies.txt




    

